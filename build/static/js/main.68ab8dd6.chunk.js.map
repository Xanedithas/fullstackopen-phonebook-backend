{"version":3,"sources":["services.js","app.js","index.js"],"names":["baseUrl","read","a","request","axios","get","response","data","create","obj","post","update","id","put","destroy","delete","Notification","notification","undefined","color","error","success","style","className","message","Contact","contact","deleteHandler","name","number","onClick","Add","addHandler","useState","setName","setNumber","onSubmit","e","preventDefault","trim","value","onChange","target","autoComplete","type","Search","searchHandler","search","setSearch","onSearch","App","contactSearch","setContactSearch","contacts","setContacts","setNotification","setNotificationTimeout","setTimeout","useEffect","Services","then","catch","err","console","log","updateContact","newNumber","window","confirm","updatedContact","map","c","contactMap","filter","toLowerCase","includes","key","match","length","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.68ab8dd6.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nconst baseUrl = \"/api/persons\"\r\n\r\nconst read = async () => {\r\n    const request = axios.get(baseUrl)\r\n    const response = await request\r\n    return response.data\r\n}\r\n\r\nconst create = async (obj) => {\r\n    const request = axios.post(baseUrl, obj)\r\n    const response = await request\r\n    return response.data\r\n}\r\n\r\nconst update = async (id, obj) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, obj)\r\n    const response = await request\r\n    return response.data\r\n}\r\n\r\nconst destroy = async (id) => {\r\n    const request = axios.delete(`${baseUrl}/${id}`)\r\n    const response = await request\r\n    return response.data\r\n}\r\n\r\nexport default { create, read, update, destroy }","import React, { useState, useEffect } from \"react\"\r\nimport Services from \"./services\"\r\n\r\nconst Notification = ({ notification }) => {\r\n\tif (notification === null || notification === undefined) return null\r\n\r\n\tconst color = { color: (notification.error ? \"red\" : notification.success ? \"green\" : \"gray\") }\r\n\r\n\treturn (\r\n\t\t<div style={color} className=\"message\">\r\n\t\t\t{notification.message}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst Contact = ({ contact, deleteHandler }) => (\r\n\t<div>\r\n\t\t{contact.name} {contact.number}{\" \"}\r\n\t\t<button onClick={deleteHandler}>delete</button>\r\n\t</div>\r\n)\r\n\r\nconst Add = ({ addHandler }) => {\r\n\tconst [name, setName] = useState(\"\")\r\n\tconst [number, setNumber] = useState(\"\")\r\n\r\n\tconst onSubmit = (e) => {\r\n\t\te.preventDefault()\r\n\t\taddHandler({ name: name.trim(), number: number.trim() })\r\n\t\tsetName(\"\")\r\n\t\tsetNumber(\"\")\r\n\t}\r\n\r\n\treturn (\r\n\t\t<form onSubmit={onSubmit}>\r\n\t\t\t<div>\r\n\t\t\t\t<label name=\"name\">Name:</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\tvalue={name}\r\n\t\t\t\t\tonChange={(e) => setName(e.target.value)}\r\n\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<label name=\"number\">Number:</label>\r\n\t\t\t\t<input\r\n\t\t\t\t\tname=\"number\"\r\n\t\t\t\t\tvalue={number}\r\n\t\t\t\t\tonChange={(e) => setNumber(e.target.value)}\r\n\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t\t<button type=\"submit\">add</button>\r\n\t\t</form>\r\n\t)\r\n}\r\n\r\nconst Search = ({ searchHandler }) => {\r\n\tconst [search, setSearch] = useState(\"\")\r\n\r\n\tconst onSearch = (e) => {\r\n\t\tsetSearch(e.target.value)\r\n\t\tsearchHandler(e.target.value)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<label name=\"search\">Search:</label>\r\n\t\t\t<input\r\n\t\t\t\tname=\"search\"\r\n\t\t\t\tvalue={search}\r\n\t\t\t\tonChange={(e) => onSearch(e)}\r\n\t\t\t\tautoComplete=\"off\"\r\n\t\t\t/>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nconst App = () => {\r\n\tconst [contactSearch, setContactSearch] = useState(\"\")\r\n\tconst [contacts, setContacts] = useState([])\r\n\tconst [notification, setNotification] = useState()\r\n\r\n\tconst setNotificationTimeout = (notification) => {\r\n\t\tsetNotification(notification)\r\n\t\tsetTimeout(() => {\r\n\t\t\tsetNotification(null)\r\n\t\t}, 5000)\r\n\t}\r\n\r\n\tconst readPhonebook = () => {\r\n\t\tServices.read()\r\n\t\t\t.then((obj) => {\r\n\t\t\t\tsetContacts(obj)\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err)\r\n\t\t\t\tsetNotificationTimeout({\r\n\t\t\t\t\terror: true,\r\n\t\t\t\t\tmessage: `Could not read the phonebook. Please try again later.`,\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t}\r\n\tuseEffect(readPhonebook, [])\r\n\r\n\tconst addContact = (contact) => {\r\n\t\tconst equals = (c) => c.name === contact.name\r\n\t\tconst match = contacts.filter(equals)\r\n\t\tif (match.length) {\r\n\t\t\treturn updateContact(match[0], contact.number)\r\n\t\t}\r\n\t\tServices.create(contact)\r\n\t\t\t.then((c) => {\r\n\t\t\t\tsetContacts(contacts.concat(c))\r\n\t\t\t\tsetNotificationTimeout({\r\n\t\t\t\t\tsuccess: true,\r\n\t\t\t\t\tmessage: `${contact.name} is added to the phonebook.`,\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tconsole.log(err)\r\n\t\t\t\tsetNotificationTimeout({\r\n\t\t\t\t\terror: true,\r\n\t\t\t\t\tmessage: `${contact.name} could not be added to the phonebook. Please try again later.`,\r\n\t\t\t\t})\r\n\t\t\t})\r\n\t}\r\n\r\n\tconst updateContact = (contact, newNumber) => {\r\n\t\tif (\r\n\t\t\twindow.confirm(\r\n\t\t\t\t`${contact.name} is already added to the phonebook, would you like to replace the old number (${contact.number}) with the new number (${newNumber}) ?`\r\n\t\t\t)\r\n\t\t) {\r\n\t\t\tServices.update(contact.id, { ...contact, number: newNumber })\r\n\t\t\t\t.then((updatedContact) => {\r\n\t\t\t\t\tsetContacts(\r\n\t\t\t\t\t\tcontacts.map((c) => (c.id !== contact.id ? c : updatedContact))\r\n\t\t\t\t\t)\r\n\t\t\t\t\tsetNotificationTimeout({\r\n\t\t\t\t\t\tsuccess: true,\r\n\t\t\t\t\t\tmessage: `${contact.name}'s information is updated.`,\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\tsetNotificationTimeout({\r\n\t\t\t\t\t\terror: true,\r\n\t\t\t\t\t\tmessage: `Could not update ${contact.name} in the phonebook. Please try again later.`,\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tconst searchContact = (search) => {\r\n\t\tsetContactSearch(search)\r\n\t}\r\n\r\n\tconst deleteContact = (contact) => {\r\n\t\tif (window.confirm(`Delete ${contact.name} ?`)) {\r\n\t\t\tServices.destroy(contact.id)\r\n\t\t\t\t.then(() => {\r\n\t\t\t\t\tsetContacts(contacts.filter((c) => c.id !== contact.id))\r\n\t\t\t\t\tsetNotificationTimeout({\r\n\t\t\t\t\t\tsuccess: true,\r\n\t\t\t\t\t\tmessage: `${contact.name} is removed from the phonebook.`,\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tconsole.log(err)\r\n\t\t\t\t\tsetNotificationTimeout({\r\n\t\t\t\t\t\terror: true,\r\n\t\t\t\t\t\tmessage: `Could not find ${contact.name} in the phonebook, perhaps it was already removed?`,\r\n\t\t\t\t\t})\r\n\t\t\t\t})\r\n\t\t}\r\n\t}\r\n\r\n\tconst contactMap = contacts\r\n\t\t.filter((c) => c.name.toLowerCase().includes(contactSearch.toLowerCase()))\r\n\t\t.map((c) => (\r\n\t\t\t<Contact\r\n\t\t\t\tkey={c.name}\r\n\t\t\t\tcontact={c}\r\n\t\t\t\tdeleteHandler={() => deleteContact(c)}\r\n\t\t\t/>\r\n\t\t))\r\n\r\n\treturn (\r\n\t\t<div>\r\n\t\t\t<h1>Phonebook</h1>\r\n\t\t\t<Notification notification={notification} />\r\n\t\t\t<h2>Add a new contact</h2>\r\n\t\t\t<Add addHandler={addContact} />\r\n\t\t\t<h2>Search for a contact</h2>\r\n\t\t\t<Search searchHandler={searchContact} />\r\n\t\t\t<h2>Contacts</h2>\r\n\t\t\t{contactMap.length ? contactMap : \"No contacts found\"}\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default App\r\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport App from \"./app\"\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById(\"root\"))\n"],"sourceRoot":""}